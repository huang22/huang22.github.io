(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{1431:function(e,t,s){Promise.resolve().then(s.bind(s,968))},968:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var l=s(9268),a=s(5358),n=s(2682),r=s(6394),i=s.n(r),o=s(6006),c=s(7055),d=s(7568),m=s(5366);let x=e=>{let{original:t,restored:s}=e;return(0,l.jsx)(m.vx,{itemOne:(0,l.jsx)(m.ps,{src:t,alt:"original photo"}),itemTwo:(0,l.jsx)(m.ps,{src:s,alt:"generated photo"}),portrait:!0,className:"flex w-[600px] mt-5 h-96"})};function h(){return(0,l.jsx)("footer",{className:"text-center h-16 sm:h-20 w-full sm:pt-2 pt-4 border-t mt-5 flex sm:flex-row flex-col justify-between items-center px-3 space-y-3 sm:mb-0 mb-3 border-gray-500",children:(0,l.jsx)("div",{className:"text-gray-500",children:"Powered by @dongwang"})})}function u(){return(0,l.jsx)("header",{className:"flex flex-col xs:flex-row justify-between items-center w-full mt-3 border-b pb-7 sm:px-4 px-2 border-gray-500 gap-2",children:(0,l.jsxs)("h1",{className:"sm:text-3xl text-xl font-bold ml-2 tracking-tight",children:[(0,l.jsx)("span",{className:"relative whitespace-nowrap text-green-600",children:(0,l.jsx)("span",{className:"relative",children:"JUST 3D"})})," "]})})}var f=s(3269),p=s.n(f);let g=e=>{let{color:t="#000",style:s="small"}=e;return(0,l.jsxs)("span",{className:"small"==s?p().loading2:p().loading,children:[(0,l.jsx)("span",{style:{backgroundColor:t}}),(0,l.jsx)("span",{style:{backgroundColor:t}}),(0,l.jsx)("span",{style:{backgroundColor:t}})]})};g.defaultProps={style:"small"};var j=s(8840);function b(e){let{children:t}=e,[s,{height:a}]=(0,j.Z)();return(0,l.jsx)(n.E.div,{animate:a?{height:a}:{},style:a?{height:a}:{},className:"relative w-full overflow-hidden",transition:{type:"tween",duration:.5},children:(0,l.jsx)("div",{ref:s,className:a?"absolute inset-x-0":"relative",children:t})})}var w=s(2706);function v(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function y(e){let{sideBySide:t,setSideBySide:s,...a}=e;return(0,l.jsx)(w.r.Group,{as:"div",...a,children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm mr-3 font-medium ".concat(t?"text-gray-500":"text-white"),children:"Side by Side"}),(0,l.jsx)(w.r,{checked:t,onChange:s,className:v(t?"bg-blue-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none "),children:(0,l.jsx)("span",{"aria-hidden":"true",className:v(t?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,l.jsx)(w.r.Label,{as:"span",className:"ml-3",children:(0,l.jsx)("span",{className:"text-sm font-medium ".concat(t?"text-white":"text-gray-500"," "),children:"Compare"})})]})})}var N=s(2374),_=s(2268),k=s(8953),C=s(3058),S=s(7035);function L(e){let{theme:t,setTheme:s,themes:a}=e;return(0,l.jsxs)(N.v,{as:"div",className:"relative block text-left",children:[(0,l.jsx)("div",{children:(0,l.jsxs)(N.v.Button,{className:"inline-flex w-full justify-between items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-black",children:[t,(0,l.jsx)(k,{className:"-mr-1 ml-2 h-5 w-5 ui-open:hidden","aria-hidden":"true"}),(0,l.jsx)(C,{className:"-mr-1 ml-2 h-5 w-5 hidden ui-open:block","aria-hidden":"true"})]})}),(0,l.jsx)(_.u,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,l.jsx)(N.v.Items,{className:"absolute left-0 z-10 mt-2 w-full origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none overflow-hidden",children:(0,l.jsx)("div",{className:"",children:a.map(e=>(0,l.jsx)(N.v.Item,{children:a=>{let{active:n}=a;return(0,l.jsxs)("button",{onClick:()=>s(e),className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}(n?"bg-gray-100 text-gray-900":"text-gray-700",e===t?"bg-gray-200":"","px-4 py-2 text-sm w-full text-left flex items-center space-x-2 justify-between"),children:[(0,l.jsx)("span",{children:e}),e===t?(0,l.jsx)(S,{className:"w-4 h-4 text-bold"}):null]})}},e))})},t)})]})}let T=["Modern","Minimalist","Professional","Tropical","Vintage"],U=["Living Room","Dining Room","Office","Bedroom","Bathroom","Gaming Room"];var B=s(2040);let O=(0,d.Uploader)({apiKey:B.env.NEXT_PUBLIC_UPLOAD_API_KEY?B.env.NEXT_PUBLIC_UPLOAD_API_KEY:"free"}),P={maxFileCount:1,mimeTypes:["image/jpeg","image/png","image/jpg"],editor:{images:{crop:!1}},styles:{colors:{primary:"#2563EB",error:"#d23f4d",shade100:"#fff",shade200:"#fffe",shade300:"#fffd",shade400:"#fffc",shade500:"#fff9",shade600:"#fff7",shade700:"#fff2",shade800:"#fff1",shade900:"#ffff"}}};function E(){let[e,t]=(0,o.useState)(null),[s,r]=(0,o.useState)(null),[d,m]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),[j,w]=(0,o.useState)(!1),[v,N]=(0,o.useState)(null),[_,k]=(0,o.useState)(null),[C,S]=(0,o.useState)("Modern"),[B,E]=(0,o.useState)("Living Room");async function R(e){await new Promise(e=>setTimeout(e,200)),m(!0);let t=await fetch("/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e,theme:C,room:B})}),s=await t.json();200!==t.status?N(s):r(s[1]),setTimeout(()=>{m(!1)},1300)}return(0,l.jsxs)("div",{className:"flex max-w-6xl mx-auto flex-col items-center justify-center py-2 min-h-screen",children:[(0,l.jsx)(u,{}),(0,l.jsxs)("main",{className:"flex flex-1 w-full flex-col items-center justify-center text-center px-4 mt-4 sm:mb-0 mb-8",children:[(0,l.jsxs)("h1",{className:"mx-auto max-w-4xl font-display text-4xl font-bold tracking-normal text-slate-100 sm:text-6xl mb-5",children:["Generate your ",(0,l.jsx)("span",{className:"text-blue-600",children:"dream"})," room"]}),(0,l.jsx)(b,{children:(0,l.jsx)(a.M,{mode:"wait",children:(0,l.jsxs)(n.E.div,{className:"flex justify-between items-center w-full flex-col mt-4",children:[!s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-4 w-full max-w-sm",children:[(0,l.jsxs)("div",{className:"flex mt-3 items-center space-x-3",children:[(0,l.jsx)(i(),{src:"/number-1-white.svg",width:30,height:30,alt:"1 icon"}),(0,l.jsx)("p",{className:"text-left font-medium",children:"Choose your room theme."})]}),(0,l.jsx)(L,{theme:C,setTheme:e=>S(e),themes:T})]}),(0,l.jsxs)("div",{className:"space-y-4 w-full max-w-sm",children:[(0,l.jsxs)("div",{className:"flex mt-10 items-center space-x-3",children:[(0,l.jsx)(i(),{src:"/number-2-white.svg",width:30,height:30,alt:"1 icon"}),(0,l.jsx)("p",{className:"text-left font-medium",children:"Choose your room type."})]}),(0,l.jsx)(L,{theme:B,setTheme:e=>E(e),themes:U})]}),(0,l.jsx)("div",{className:"mt-4 w-full max-w-sm",children:(0,l.jsxs)("div",{className:"flex mt-6 w-96 items-center space-x-3",children:[(0,l.jsx)(i(),{src:"/number-3-white.svg",width:30,height:30,alt:"1 icon"}),(0,l.jsx)("p",{className:"text-left font-medium",children:"Upload a picture of your room."})]})})]}),s&&(0,l.jsxs)("div",{children:["Here's your remodeled ",(0,l.jsx)("b",{children:B.toLowerCase()})," in the"," ",(0,l.jsx)("b",{children:C.toLowerCase()})," theme!"," "]}),(0,l.jsx)("div",{className:"".concat(f?"visible mt-6 -ml-8":"invisible"),children:(0,l.jsx)(y,{className:"".concat(f?"visible mb-6":"invisible"),sideBySide:j,setSideBySide:e=>w(e)})}),f&&j&&(0,l.jsx)(x,{original:e,restored:s}),!e&&(0,l.jsx)(()=>(0,l.jsx)(c.UploadDropzone,{uploader:O,options:P,onUpdate:e=>{0!==e.length&&(k(e[0].originalFile.originalFileName),t(e[0].fileUrl.replace("raw","thumbnail")),R(e[0].fileUrl.replace("raw","thumbnail")))},width:"670px",height:"250px"}),{}),e&&!s&&(0,l.jsx)(i(),{alt:"original photo",src:e,className:"rounded-2xl h-96",width:475,height:475}),s&&e&&!j&&(0,l.jsxs)("div",{className:"flex sm:space-x-4 sm:flex-row flex-col",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"mb-1 font-medium text-lg",children:"Original Room"}),(0,l.jsx)(i(),{alt:"original photo",src:e,className:"rounded-2xl relative w-full h-96",width:475,height:475})]}),(0,l.jsxs)("div",{className:"sm:mt-0 mt-8",children:[(0,l.jsx)("h2",{className:"mb-1 font-medium text-lg",children:"Generated Room"}),(0,l.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:(0,l.jsx)(i(),{alt:"restored photo",src:s,className:"rounded-2xl relative sm:mt-0 mt-2 cursor-zoom-in w-full h-96",width:475,height:475,onLoadingComplete:()=>p(!0)})})]})]}),d&&(0,l.jsx)("button",{disabled:!0,className:"bg-blue-500 rounded-full text-white font-medium px-4 pt-2 pb-3 mt-8 w-40",children:(0,l.jsx)("span",{className:"pt-4",children:(0,l.jsx)(g,{color:"white",style:"large"})})}),v&&(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl mt-8",role:"alert",children:(0,l.jsx)("span",{className:"block sm:inline",children:v})}),(0,l.jsxs)("div",{className:"flex space-x-2 justify-center",children:[e&&!d&&(0,l.jsx)("button",{onClick:()=>{t(null),r(null),p(!1),N(null)},className:"bg-blue-500 rounded-full text-white font-medium px-4 py-2 mt-8 hover:bg-blue-500/80 transition",children:"Generate New Room"}),f&&(0,l.jsx)("button",{onClick:()=>{let e;!function(e,t){fetch(e,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{var s;let l;s=window.URL.createObjectURL(e),(l=document.createElement("a")).download=t,l.href=s,document.body.appendChild(l),l.click(),l.remove()}).catch(e=>console.error(e))}(s,(e=_.indexOf("."),_.substring(0,e).concat("-new",_.substring(e))))},className:"bg-white rounded-full text-black border font-medium px-4 py-2 mt-8 hover:bg-gray-100 transition",children:"Download Generated Room"})]})]})})})]}),(0,l.jsx)(h,{})]})}},3269:function(e){e.exports={loading:"loading-dots_loading__LomzL",spacer:"loading-dots_spacer__nBBvk",blink:"loading-dots_blink__yy72w",loading2:"loading-dots_loading2___zCAu"}}},function(e){e.O(0,[730,707,13,667,488,744],function(){return e(e.s=1431)}),_N_E=e.O()}]);